"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(t){_defineProperty(e,t,i[t])})}return e}var defaultOptions={interval:100,autoplay:!0,deliminator:" ",keepDeliminator:!0,wrapperClass:"stringStyleWrapper",beforeClass:"stringStyleBefore",afterClass:"stringStyleAfter",stripStylesAfter:!1},stringStyles=[],listening=!1,wHeight=window.innerHeight,StringStyleObj=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,i),this.elem=t,this.options=_objectSpread({},defaultOptions,e),this.init(),this.reset(),this.options.autoplay&&this.play()}return _createClass(i,[{key:"init",value:function(){var n=this;this.content=this.elem.innerHTML.split(this.options.deliminator),this.targets=[],this.elem.innerHTML="",this.content.map(function(t){t=n.options.keepDeliminator?t+n.options.deliminator:t;var e=document.createElement("span"),i=document.createElement("span");e.classList.add(n.options.wrapperClass),n.assignClass(i,n.options.beforeClass),i.innerHTML=t,e.appendChild(i),n.elem.appendChild(e),n.targets.push(i)})}},{key:"reset",value:function(){this.complete=!1,this.index=0}},{key:"play",value:function(){!this.complete&&this.isVisible()&&this.styleController()}},{key:"styleController",value:function(){var t=this;this.assignClass(this.targets[this.index],this.options.afterClass),this.index=this.index+1,this.index>=this.targets.length&&(this.complete=!0,this.options.stripStylesAfter&&setTimeout(function(){t.stripStyles()},this.options.stripStylesAfter)),this.complete||setTimeout(function(){t.styleController()},this.options.interval)}},{key:"assignClass",value:function(t,e){if(Array.isArray(e)){var i=random(0,e.length-1);t.classList.add(e[i])}else t.classList.add(e)}},{key:"stripStyles",value:function(){this.elem.innerHTML=this.content.join(this.options.deliminator)}},{key:"isVisible",value:function(){var t=this.elem.getBoundingClientRect();return t.top<wHeight&&0<t.bottom}}]),i}(),initListeners=function(){window.addEventListener("resize",function(){wHeight=window.innerHeight,playVisible()}),window.addEventListener("scroll",function(){playVisible()})},makeStyleObj=function(t,e){var i=new StringStyleObj(t,e);stringStyles.push(i)},playVisible=function(){Array.from(stringStyles).forEach(function(t){t.options.autoplay&&t.play()})},random=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},Stringstyle=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t&&(t=document.querySelectorAll("".concat(t))),t.length<=0)return!1;t&&(1<=t.length?Array.from(t).forEach(function(t){makeStyleObj(t,e)}):makeStyleObj(t,e),listening||(initListeners(),listening=!0))};Stringstyle(".stringStyle");
